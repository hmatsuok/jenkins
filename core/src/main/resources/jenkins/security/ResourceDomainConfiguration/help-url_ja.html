<p>
    Jenkinsは、プロジェクトワークスペース内のファイルやアーカイブされたアーティファクトなど、信頼できないユーザーによって作成された可能性のある多くのファイルを提供します。
    リソースルートURLが定義されていない場合、JenkinsはこれらのファイルにHTTPヘッダー<code>Content-Security-Policy</code>（ "CSP"）を提供します。
    デフォルトでは、これらのファイルにアクセスするJenkinsユーザーへのクロスサイトスクリプティング（XSS）およびその他の攻撃を防ぐために、多くの最新のWeb機能を無効にする値に設定されています。
    CSPヘッダーの特定の値はユーザーが構成できます（無効にすることもできます）が、これを行うと、セキュリティと機能のトレードオフになります。
</p>
<p>
    リソースルートURLが定義されている場合、Jenkinsはユーザーが作成したリソースファイルのリクエストを、ここで設定されたURLで始まるURLにリダイレクトします。
    これらのURLはCSPヘッダーを設定しないため、JavaScriptや類似の機能が機能します。
    このオプションが期待どおりに機能するには、次の制約と考慮事項が適用されます。
</p>
<ul>
    <li>リクエストが正しく処理されるためには、リソースルートURLがJenkinsルートURLの有効な代替選択肢である必要があります。</li>
    <li>JenkinsルートURLを設定する必要があり、このリソースルートURLとは異なる必要があります（実際、別のホスト名が必要です）。</li>
    <li>
        設定すると、JenkinsはリソースルートURL経由でのみリソースURLリクエストを処理します。
        他のすべてのリクエストは、<em> HTTP 404 Not Found </em>レスポンスを受け取ります。
    </li>
</ul>
<p>
    このURLが正しく設定されると、Jenkinsはリクエストをワークスペース、アーカイブされたアーティファクト、および通常はユーザーが生成したコンテンツの同様のコレクションに、リソースルートURLで始まるURLにリダイレクトします。
    <code>job/name_here/ws</code>のようなパスの代わりに、リソースURLには、そのパスをエンコードするトークン、URLが作成されたユーザー、およびいつ作成されたかが含まれます。
    これらのリソースURLは、作成されたユーザーがそれらにアクセスするかのように静的ファイルにアクセスします。
    これらのファイルにアクセスするユーザーの権限が削除されると、対応するリソースURLも機能しなくなります。
    <strong>これらのURLは、有効期限が切れるまで認証なしで誰でもアクセスできるため、これらのURLを共有することは、ファイルを直接共有することと同じです。</strong>
</p>
<h3>セキュリティに関する考慮事項</h3>
<h4>認証</h4>
<p>
    リソースURLは認証を必要としません（ユーザーにはリソースルートURLの有効なセッションがありません）
    リソースのURLを別のユーザーと共有すると、たとえJenkinsに対する全体/読み取り権限がなくても、URLの有効期限が切れるまで、これらのファイルへのアクセスがそのユーザーに許可されます。
</p>
<h4>有効期限</h4>
<p>
    リソースURLは、デフォルトで30分後に期限切れになります。
    期限切れのリソースURLは、ユーザーを同等のJenkins URLにリダイレクトします。これにより、ユーザーは必要に応じて再認証され、さらに30分間有効な新しいリソースURLにリダイレクトされます。
    ユーザーが有効なJenkinsセッションを持っている場合、これは通常、ユーザーに対して透過的です。
    それ以外の場合は、Jenkinsで再度認証する必要があります。
    ただし、Javadocサイトのように、HTMLフレームのあるページを閲覧する場合、ログインフォームをフレームに表示することはできません。
    このような場合、ユーザーはログインフォームを表示するためにトップレベルフレームをリロードする必要があります。
</p>
<p>
    リソースURLが期限切れになるまでの時間を変更するには、システムプロパティ<code>jenkins.security.ResourceDomainRootAction.validForMinutes</code>を必要な値（分単位）に設定します。
    有効期限が早いとこれらのURLの使用が困難になる可能性がありますが、有効期限が遅いと、許可されていないユーザーが、許可されたユーザーが共有しているURLからアクセスできる可能性が高くなります。
</p>
<h4>信憑性</h4>
<p>
    リソースURLは、URL、それらが作成されたユーザー、およびそれらの作成タイムスタンプをエンコードします。
    さらに、この文字列には<a href="https://en.wikipedia.org/wiki/HMAC" target="_blank">HMAC</a>が含まれており、URLの信頼性を保証します。
    これにより、攻撃者がリソースファイルへのアクセスを許可するURLを偽造して、まるで別のユーザーであるかのように防ぐことができます。
</p>